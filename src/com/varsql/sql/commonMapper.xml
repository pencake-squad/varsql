<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
	 PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="commonMapper">
	
	
	<!-- db connection 정보 상세보기. -->	
	<select id="commonMapper.selectDetailObject" parameterType="map" resultType="vtconnectionRVO">
		select 
			VCONNID
			, VNAME
			, VDBSCHEMA
			, VURL
			, VDRIVER
			, USE_YN
			, VTYPE
			, VQUERY
			, VID
			, MAX_ACTIVE
			, MIN_IDLE
			, TIMEOUT
			, EXPORTCOUNT
			, VCONNOPT
			, VPOOLOPT
			, VDBVERSION 
			, BASETABLE_YN
			, LAZYLOAD_YN
		from VTCONNECTION 
		where DEL_YN = 'N'
		AND VCONNID =#{vconnid}
	</select>
		
	<!-- exception 정보 등록. -->
	<insert id="commonMapper.insertExceptionLog" parameterType="exceptionLogVO">
		insert into VTSQL_EXCEPTIONLOG (EXCP_ID,SERVER_ID,EXCP_TYPE,EXCP_TITLE,EXCP_CONT,REG_ID,REG_DT )
		values( #{exceotionId},#{serverId},#{exceptionType},#{exceptionTitle},#{exceptionCont},#{regId},CURRENT_TIMESTAMP )  
	</insert>
</mapper>
